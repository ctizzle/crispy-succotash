{"version":3,"sources":["api/token.js","api/api.js","components/MyRoutines.js","components/Routines.js","components/Activities.js","components/Home.js","components/Header.js","components/Login.js","components/Register.js","index.js"],"names":["TOKEN_KEY","localStorage","getItem","makeApiRequest","path","method","data","a","token","TokenUtilities","defaultHeaders","options","headers","body","JSON","stringify","fetch","response","json","responseData","PostRoutinesComponent","useState","name","setName","goal","setGoal","myRoutinesList","setMyRoutinesList","showForm","setShowForm","PostRoutine","grabTokenFromLocal","console","log","isPublic","then","result","catch","error","alert","FetchRoutine","username","URL","routineResponse","routines","useEffect","UpdateRoutine","routineId","updateURL","DeleteRoutine","deletedResponse","deleted","success","submitButton","Event","preventDefault","updateButton","confirm","currentTarget","value","window","location","reload","deleteButton","showFormAppear","routineElements","map","routine","i","id","onClick","type","onChange","event","className","onSubmit","RoutinesComponent","routineList","setRoutineList","api","routinesElement","creatorName","activities","activity","description","duration","count","ActivitiesComponent","activityList","setActivityList","setActivity","setDescription","activitiesElements","handleChange","e","stateKey","target","newState","history","push","HomeComponent","Header","isLoggedIn","setToken","useHistory","to","removeItem","LoginComponent","password","setPassword","Login","setItem","message","finally","required","placeholder","RegisterComponent","Register","App","setIsLoggedIn","exact","Home","Routines","Activities","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b20b9d76.chunk.js","sourcesContent":["const TOKEN_KEY = 'token';\n\nexport default {\n    getTokenLocal: function() {\n        return localStorage.getItem(TOKEN_KEY);\n    },\n\n    storeTokenLocal: function(token) {\n        localStorage.setItem(TOKEN_KEY, token);\n    },\n\n    removeTokenLocal: function() {\n        localStorage.removeItem(TOKEN_KEY);\n    }\n}","const BASE_URL = 'https://fitnesstrac-kr.herokuapp.com/api/';\r\n\r\nimport TokenUtilities from './token';\r\n\r\nexport default {\r\n    makeApiRequest: async function(path, method, data) {\r\n        const token = TokenUtilities.getTokenLocal();\r\n        const defaultHeaders = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n        if (token) {\r\n            defaultHeaders['authorization'] = `Bearer ${token}`;\r\n        }\r\n        const options = {\r\n            method,\r\n            headers: defaultHeaders\r\n        }\r\n        if (data) {\r\n            options.body = JSON.stringify(data);\r\n        }\r\n        const response = await fetch(BASE_URL + path, options);\r\n        const responseData = await response.json();\r\n        return responseData;\r\n    }\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport './MyRoutines.css'\r\n\r\nconst PostRoutinesComponent = () => {\r\n    const [name, setName] = useState('');\r\n    const [goal, setGoal] = useState('');\r\n    const [myRoutinesList, setMyRoutinesList] = useState([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n    // const [buttonText, setButtonText] = useState(\"Edit Routine\")\r\n\r\n    /*************************************\r\n    *     For creating a new routine\r\n    **************************************/\r\n\r\n    const PostRoutine = function(name, goal) {\r\n        const grabTokenFromLocal= localStorage.getItem('token');\r\n        console.log(grabTokenFromLocal)\r\n  \r\n      fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${grabTokenFromLocal}`\r\n        },\r\n        body: JSON.stringify({\r\n          \r\n            name,\r\n            goal,\r\n            isPublic: true\r\n          \r\n        })\r\n      }).then(response => response.json())\r\n      .then(result => {\r\n      console.log(result);\r\n      })\r\n      .catch(() => {\r\n          console.error\r\n          alert('This routine name is already in use! Try a differnt name')  \r\n        });\r\n    }\r\n    \r\n    /*************************************\r\n    *   For grabbing the users routines\r\n    **************************************/\r\n    \r\n    const FetchRoutine = async function(name, goal) {\r\n        const grabTokenFromLocal= localStorage.getItem('token');\r\n        // console.log(grabTokenFromLocal)\r\n        \r\n\r\n      try {\r\n        const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\r\n            method: \"GET\",\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${grabTokenFromLocal}`\r\n            }\r\n        })\r\n        const {username} = await response.json()\r\n        // console.log(username)\r\n        const URL = `http://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`\r\n        const routineResponse = await fetch(URL, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${grabTokenFromLocal}`\r\n            }\r\n        })\r\n        const routines = await routineResponse.json()\r\n        setMyRoutinesList(routines)\r\n\r\n      } catch(error) {\r\n        console.error\r\n      }\r\n    }\r\n\r\n    useEffect(FetchRoutine, [])\r\n    \r\n\r\n    /*************************************\r\n    *        For Updating Routine\r\n    **************************************/\r\n\r\n    const UpdateRoutine = async function (name, goal, routineId) {\r\n        const grabTokenFromLocal= localStorage.getItem('token');\r\n        try {\r\n            const updateURL = `http://fitnesstrac-kr.herokuapp.com/api/routines/${routineId}`\r\n            await fetch(updateURL, {\r\n                method: \"PATCH\",\r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${grabTokenFromLocal}`\r\n                },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    goal\r\n                })   \r\n            })\r\n        } catch (error) {\r\n            console.error\r\n        }\r\n    }\r\n\r\n    /*************************************\r\n    *         For Deleting Routine\r\n    **************************************/\r\n    \r\n    const DeleteRoutine = async function(routineId) {\r\n        const grabTokenFromLocal= localStorage.getItem('token');\r\n        console.log(grabTokenFromLocal)\r\n\r\n        try {\r\n            const URL = `http://fitnesstrac-kr.herokuapp.com/api/routines/${routineId}`\r\n            const deletedResponse = await fetch(URL, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${grabTokenFromLocal}`\r\n                }\r\n            })\r\n            const deleted = await deletedResponse.json()\r\n            if(deleted.success) {\r\n                alert(`\"${deleted.name}\" has been successfully deleted\"`)\r\n            }\r\n            \r\n        } catch (error) {\r\n            console.error\r\n        }\r\n    }\r\n\r\n    /*************************************\r\n    *           Helper Functions\r\n    **************************************/\r\n\r\n    const submitButton = async Event => {\r\n        Event.preventDefault();\r\n        console.log(name, goal);\r\n        await PostRoutine(name, goal);\r\n    }\r\n\r\n    const updateButton = async Event => {\r\n        if (confirm('Are you sure you want to update this routine?')) {\r\n            Event.preventDefault();\r\n            await UpdateRoutine(name, goal, Event.currentTarget.value);\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    const deleteButton = async Event => {\r\n        if (confirm('Are you sure you want to delete this routine?')) {\r\n            Event.preventDefault();\r\n            await DeleteRoutine(Event.currentTarget.value);\r\n            window.location.reload();\r\n        }\r\n    }\r\n     \r\n    const showFormAppear = () => {\r\n        setShowForm(!showForm)\r\n    }\r\n\r\n\r\n    const routineElements = myRoutinesList.map((routine,i) => \r\n        <div key={`act-id-${i}`}>  \r\n            <h2>Name: {routine.name} </h2>\r\n            <p>Goal: {routine.goal} </p>\r\n            <button value={routine.id} onClick={showFormAppear}>Edit Routine</button>\r\n            { showForm && (\r\n                <div>\r\n                    <form>\r\n                        <div>\r\n                            <label>Name: </label>\r\n                            <input type='text' \r\n                                name='routinename' \r\n                                value={name}\r\n                                onChange={(event) => setName(event.currentTarget.value)} />\r\n                        </div>\r\n                        <div>\r\n                            <label>Goal: </label>\r\n                            <input type='text'\r\n                                name='goal'\r\n                                value={goal}\r\n                                onChange={(event) => setGoal(event.currentTarget.value)} />\r\n                        </div>\r\n                        <div>\r\n                            <button value={routine.id} onClick={updateButton}>Update</button>\r\n                            <button onClick={showFormAppear}>Cancel</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            )}\r\n            <button value={routine.id} onClick={deleteButton}>Delete Routine</button>\r\n        </div>);\r\n\r\n    \r\n    \r\n\r\n    return (\r\n        <div>\r\n            <div className = \"RoutineBox\">\r\n                <h2>Add New Routine</h2>\r\n                <form onSubmit = {submitButton}>\r\n                    <ul>\r\n                        <li>Name: <input type = \"text\"  name = \"name\" id=\"name\" value={name} onChange={(event) => setName(event.currentTarget.value) }></input></li>\r\n                        <li>Goal: <input type = \"text\" name =\"goal\" id=\"goal\" value={goal} onChange={(event) => setGoal(event.currentTarget.value) }></input></li>\r\n                    </ul>\r\n                <button>Add New Routine</button>\r\n                </form>\r\n            </div>\r\n            <h1> My Routines </h1>\r\n            {routineElements}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostRoutinesComponent;","import React, {useState, useEffect} from 'react';\r\nimport api from '../api/api';\r\nimport './routineactivity.css';\r\nimport './MyRoutines'\r\n\r\nconst RoutinesComponent = ( ) => {\r\n    const [routineList, setRoutineList] = useState([]);\r\n\r\n    useEffect( async function () {\r\n        try {\r\n            const data = await api.makeApiRequest('/routines', 'GET');\r\n            setRoutineList(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }, [routineList])\r\n\r\n    const routinesElement = routineList.map((routine, i) => \r\n        <div key={`rou-id-${i}`}>\r\n            <h1> ROUTINES </h1>\r\n            <p>Name: {routine.name}</p>\r\n            <p>Goal: {routine.goal}</p>\r\n            <p>Creator: {routine.creatorName}</p>\r\n            {\r\n                routine.activities.map( activity => \r\n                    <>\r\n                        <p>Activity Name: {activity.name}</p>\r\n                        <ul>Activity Description: {activity.description}</ul>\r\n                        <ul>Activity Duration: {activity.duration}</ul>\r\n                        <ul>Activity Count: {activity.count}</ul>\r\n                    </>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n    return(\r\n        <div className = 'main-box'>\r\n            {routinesElement}\r\n            <h1>We are in the Routines page!</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RoutinesComponent;","import React, {useState, useEffect} from 'react';\r\n// import ReactDOM from 'react-dom';\r\nimport api from '../api/api';\r\nimport './routineactivity.css';\r\nimport './loginboxes.css'\r\n\r\nconst ActivitiesComponent = ( ) => {\r\n     const [activityList, setActivityList] = useState([]);\r\n     const defaultState = {name: '', description: ''};\r\n     const [activity, setActivity] = useState(defaultState);\r\n     const [name, setName] = useState('');\r\n     const [description, setDescription] = useState('');\r\n     useEffect( async function (){\r\n        try{\r\n            const data = await api.makeApiRequest('activities?limit=10', 'GET');\r\n            console.log(data);\r\n            setActivityList(data) \r\n            \r\n        }catch (error) {\r\n          console.error(error);\r\n        }},[activityList])\r\n        \r\n        \r\n        const activitiesElements = activityList.map((activity,i) => \r\n        <div key={`act-id-${i}`}>  \r\n        <h1> ACTIVITIES </h1>\r\n        <h2> Name :{activity.name} </h2>\r\n        <p>description:{activity.description} </p>\r\n        </div>);\r\n      console.log(activitiesElements)\r\n      \r\n    function handleChange(e, stateKey) {\r\n      if(stateKey === 'name') {\r\n          setName(e.target.value);\r\n      } else if (stateKey === 'description') {\r\n          setDescription(e.target.value);\r\n      }\r\n      const newState = {...activity};\r\n      let value = e.target.value;\r\n      newState[stateKey] = value;\r\n      setActivity(newState);\r\n      console.log(activity);\r\n  }\r\n\r\n  async function onSubmit(e) {\r\n      e.preventDefault();\r\n      await api.makeApiRequest('/activities', 'POST', activity);\r\n      history.push;\r\n      if(!'authorization'){\r\n          alert('you have to be logged in to post!')\r\n      }\r\n  }\r\n  return (<div>\r\n      <div className=\"activity-form\">\r\n          <form onSubmit={onSubmit}>\r\n              <div>\r\n                  <label>Activity Name:</label>\r\n                  <input onChange={e => handleChange(e, 'name')} value={activity.name} type=\"text\" />\r\n              </div>\r\n              <div>\r\n                  <label>Activity Description:</label>\r\n                  <input onChange={e => handleChange(e, 'description')} value={activity.description} type=\"text\" />\r\n              </div>\r\n              <div>\r\n                  <button>Submit</button>\r\n              </div>\r\n          </form>\r\n          </div>\r\n          <div className = 'main-box'>\r\n             {activitiesElements}\r\n             <h1>We are in the Activities page!</h1>\r\n       </div>\r\n      \r\n      </div>\r\n  )\r\n}\r\n\r\nexport default ActivitiesComponent;\r\n","import React from 'react';\r\n\r\n\r\nconst HomeComponent = ( ) => {\r\n    return(\r\n        <div className ='home-page'>\r\n        <h1>Welcome to fitness track.r!</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeComponent;","import React from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport './Header.css'\n\nconst Header = ({isLoggedIn, setToken}) => {\n  let history = useHistory();\n\n  function handleLogout (event) {\n    event.preventDefault();\n    localStorage.removeItem('token')\n    setToken(null);\n    history.push('/Home')\n  }\n    return (\n        <div className = 'header'>\n          <header>\n            <h1>Fitness track.r</h1>\n          </header>\n         { \n            isLoggedIn ?\n           <nav className ='navigation'>\n              <ul>\n                  <Link to= {\"/MyRoutines\"}> My Routines </Link>\n                  <Link to= {\"/Routines\"}> Routines </Link>\n                  <Link to={\"/\"}> Home </Link>\n                  <Link to= {\"/Activities\"}> Activities </Link>\n                  <button className='logout' onClick={handleLogout}>Logout</button>\n              </ul>\n            </nav> :\n             <nav className ='navigation'>\n             <ul>\n                 <Link to= {\"/Routines\"}> Routines </Link>\n                 <Link to={\"/\"}> Home </Link>\n                 <Link to= {\"/Activities\"}> Activities </Link>\n                 <Link to={\"/Login\"}> Login </Link>\n                 <Link to={\"/Register\"}> Register </Link>\n             </ul>\n           </nav>\n         }\n        </div>\n  \n  )\n}\n\nexport default Header;","\r\nimport React, {useState, useEffect} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport api from '../api/api';\r\nimport TokenUtilities from '../api/token'\r\nimport './loginboxes.css'\r\n\r\nconst LoginComponent = ({setToken}) => {\r\n    \r\n    let history = useHistory();\r\n\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function Login (username, password) {\r\n        fetch('https://fitnesstrac-kr.herokuapp.com/api/users/login', {\r\n        method: \"POST\",\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            username,\r\n            password\r\n           })\r\n        }).then(response => response.json())\r\n          .then(result => {\r\n            // console.log(result.password);\r\n            localStorage.setItem('token', result.token);\r\n            console.log(result.message);\r\n            alert(result.message)\r\n            \r\n            setToken(result.token); \r\n            \r\n          })\r\n          .catch(error => {\r\n            console.error;\r\n            alert(error.message);\r\n          })\r\n          .finally(() => {\r\n            history.push('/');\r\n          });\r\n\r\n        \r\n    }\r\n\r\n    const submitButton = async Event => {\r\n        Event.preventDefault();\r\n        console.log(name, password);\r\n        await Login(name, password);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"activity-form\">\r\n          <h1>Welcome back! Please login!</h1>\r\n            <form onSubmit={submitButton} >\r\n                <input type='text'\r\n                       required\r\n                       name='username'\r\n                       value={name}\r\n                       onChange={(event) => setName(event.currentTarget.value) }\r\n                       placeholder='username'/>\r\n                <input type='password'\r\n                        required\r\n                        name='password'\r\n                        value={password}\r\n                        onChange={(event) => setPassword(event.currentTarget.value) }\r\n                        placeholder='password'/>\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginComponent;","import React, {useState, useEffect} from 'react';\r\n\r\n\r\nconst RegisterComponent = ({setToken}) => {\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function Register (username, password) {\r\n        fetch('https://fitnesstrac-kr.herokuapp.com/api/users/register', {\r\n        method: \"POST\",\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            \r\n            username,\r\n            password\r\n            \r\n          })\r\n        }).then(response => response.json())\r\n          .then(result => {\r\n            console.log(result.message)\r\n            console.log(result.token);\r\n            // (result.success)? alert(\"Registered successfully\") :alert(\" Already have an account\")\r\n            localStorage.setItem('token', result.token);\r\n            setToken(result.token); \r\n          })\r\n          .catch(error => {\r\n            console.error;\r\n            alert(error.message);\r\n          });\r\n    }\r\n\r\n    const submitButton = async Event => {\r\n        Event.preventDefault();\r\n        console.log(name, password);\r\n        await Register(name, password);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"activity-form\">\r\n          <h1>First time user? Sign up!</h1>\r\n            <form onSubmit={submitButton} >\r\n                <input type='text'\r\n                       required\r\n                       name='username'\r\n                       value={name}\r\n                       onChange={(event) => setName(event.currentTarget.value) }\r\n                       placeholder='username'/>\r\n               <input type='password'\r\n                        required\r\n                        name='password'\r\n                        value={password}\r\n                        onChange={(event) => setPassword(event.currentTarget.value) }\r\n                        placeholder='password'/> \r\n                <button>Submit</button>\r\n                \r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterComponent;","import React , {useEffect, useState}from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport RoutinesComponent from './components/Routines';\r\nimport ActivitiesComponent from './components/Activities';\r\nimport HomeComponent from './components/Home';\r\nimport Header from './components/Header';\r\nimport LoginComponent from './components/Login';\r\nimport RegisterComponent from './components/Register'\r\nimport PostRoutinesComponent from './components/MyRoutines'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Switch,\r\n} from 'react-router-dom';\r\n\r\n\r\nconst App = () => {\r\n  const [token, setToken] = useState(localStorage.getItem('token'));\r\n  const [isLoggedIn, setIsLoggedIn] = useState(!!token)\r\n\r\n  useEffect(function (){\r\n    setIsLoggedIn(!!token);\r\n\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"head\">\r\n            <div>\r\n                <Router>\r\n                  <Header isLoggedIn = {isLoggedIn} setToken={setToken}/> \r\n <div id=\"app\"></div>\r\n                <main>\r\n                    <Switch>\r\n                        <Route path=\"/Login\"><LoginComponent setToken = {setToken}/></Route>\r\n                        <Route path=\"/Register\"><RegisterComponent setToken = {setToken}/></Route>\r\n                        <Route exact path=\"/\"><HomeComponent/></Route>\r\n                        <Route path=\"/routines\"><RoutinesComponent/></Route>\r\n                        <Route path=\"/activities\"><ActivitiesComponent/></Route>\r\n                        <Route path=\"/MyRoutines\"><PostRoutinesComponent/></Route>\r\n                    </Switch>\r\n        \r\n                </main>\r\n                </Router>\r\n            </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <Router><App /></Router>,\r\n  document.getElementById('app'),\r\n);\r\nexport default App;"],"sourceRoot":""}